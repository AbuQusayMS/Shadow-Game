<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🧠 مسابقة المعلومات</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="theme-easy"> <div class="container">
        <div id="splash-screen" class="screen active">
            <header class="splash-header">
                <div class="logo">🧠</div>
                <h1>مسابقة المعلومات</h1>
                <p>اختبر قدراتك في مسابقة تفاعلية شيقة!</p>
            </header>
            <div class="text-center">
                <button id="start-btn" class="btn btn-primary">ابدأ الآن</button>
            </div>
        </div>

        <div id="player-setup-screen" class="screen">
            <header>
                <h1>اختر شخصيتك</h1>
                <p>ستظهر هذه الصورة بجانب اسمك في لوحة الصدارة</p>
            </header>
            <div class="avatar-selection">
                <img src="https://api.dicebear.com/7.x/adventurer/svg?seed=Mimi" alt="Avatar 1" class="avatar" >
                <img src="https://api.dicebear.com/7.x/adventurer/svg?seed=Callie" alt="Avatar 2" class="avatar">
                <img src="https://api.dicebear.com/7.x/adventurer/svg?seed=Leo" alt="Avatar 3" class="avatar">
                <img src="https://api.dicebear.com/7.x/adventurer/svg?seed=Loki" alt="Avatar 4" class="avatar">
                <img src="https://api.dicebear.com/7.x/adventurer/svg?seed=Rascal" alt="Avatar 5" class="avatar">
                <img src="https://api.dicebear.com/7.x/adventurer/svg?seed=Simon" alt="Avatar 6" class="avatar">
            </div>
            <div class="form-group">
                <label for="player-name">أدخل اسمك:</label>
                <input type="text" id="player-name" placeholder="مثال: عبد الله" maxlength="15">
            </div>
            <div class="form-group">
                <label for="player-id">معرّف اللاعب (تلقائي):</label>
                <input type="text" id="player-id" readonly>
            </div>
            <div class="text-center">
                <button id="confirm-player-btn" class="btn btn-primary">التالي <i class="fa-solid fa-arrow-left"></i></button>
            </div>
        </div>
        
        <div id="instructions-screen" class="screen">
            <header>
                <h1>طريقة اللعب</h1>
            </header>
            <ul class="instructions-list">
                <li><i class="fa-solid fa-star"></i> اكسب <strong>+100 نقطة</strong> لكل إجابة صحيحة، واخسر <strong>-100 نقطة</strong> مع كل خطأ.</li>
                <li><i class="fa-solid fa-stopwatch"></i> لكل سؤال مؤقت زمني، أجب بسرعة!</li>
                <li><i class="fa-solid fa-shield-halved"></i> استخدم المساعدات بذكاء، فلكل منها تكلفة.</li>
                <li><i class="fa-solid fa-heart-crack"></i> لديك <strong>3 محاولات خاطئة</strong> فقط قبل انتهاء اللعبة.</li>
                <li><i class="fa-solid fa-trophy"></i> هل يمكنك الوصول إلى السؤال المستحيل؟</li>
            </ul>
            <div class="text-center">
                <button id="start-quiz-btn" class="btn btn-primary">لنبدأ التحدي! <i class="fa-solid fa-rocket"></i></button>
            </div>
        </div>

        <div id="question-screen" class="screen">
            <div class="quiz-header">
                <button id="end-quiz-btn" class="btn btn-danger"><i class="fa-solid fa-door-open"></i> إنهاء</button>
                <div class="level-progress">
                    <div id="level-seg-1" class="level-segment easy active"><span>سهل</span></div>
                    <div id="level-seg-2" class="level-segment medium"><span>متوسط</span></div>
                    <div id="level-seg-3" class="level-segment hard"><span>صعب</span></div>
                    <div id="level-seg-4" class="level-segment impossible"><span>مستحيل</span></div>
                </div>
                <button id="toggle-theme-btn" class="btn btn-secondary"><i class="fa-solid fa-circle-half-stroke"></i></button>
            </div>

            <div class="timer-container">
                <div id="timer-bar" class="timer-bar"></div>
            </div>
            
            <div class="player-hud">
                <div class="player-info">
                    <img id="hud-avatar" src="" alt="Player Avatar" class="player-avatar">
                    <div>
                        <h3 id="hud-player-name"></h3>
                        <p id="hud-player-id"></p>
                    </div>
                </div>
                <div class="player-stats">
                    <div class="stat"><i class="fa-solid fa-star"></i> النقاط: <span id="hud-points">100</span></div>
                    <div class="stat"><i class="fa-solid fa-heart"></i> الأخطاء: <span id="hud-errors">0/3</span></div>
                    <div class="stat"><i class="fa-solid fa-forward"></i> التخطي: <span id="hud-skips">0</span></div>
                </div>
            </div>

            <div class="question-container">
                <p id="question-text"></p>
            </div>
            <div id="options-container" class="options-container"></div>
            
            <div class="help-buttons">
                <div id="fifty-fifty-btn" class="help-btn">
                    <i class="fas fa-adjust"></i>
                    <span>50:50</span>
                    <small>100 نقطة</small>
                </div>
                <div id="freeze-time-btn" class="help-btn">
                    <i class="fas fa-snowflake"></i>
                    <span>تجميد الوقت</span>
                    <small>100 نقطة</small>
                </div>
                <div id="skip-question-btn" class="help-btn">
                    <i class="fas fa-forward-step"></i>
                    <span>تخطي السؤال</span>
                    <small id="skip-cost">100 نقطة</small>
                </div>
            </div>
        </div>

        <div id="results-screen" class="screen">
            <header>
                <h1>النتائج النهائية</h1>
            </header>
            <div class="results-grid">
                <div class="result-stat"><span>الاسم:</span> <strong id="result-name"></strong></div>
                <div class="result-stat"><span>المعرّف:</span> <strong id="result-id"></strong></div>
                <div class="result-stat"><span>الإجابات الصحيحة:</span> <strong id="result-correct"></strong></div>
                <div class="result-stat"><span>الإجابات الخاطئة:</span> <strong id="result-wrong"></strong></div>
                <div class="result-stat"><span>مرات التخطي:</span> <strong id="result-skips"></strong></div>
                <div class="result-stat"><span>النقاط النهائية:</span> <strong id="result-points"></strong></div>
                <div class="result-stat"><span>الوقت المستغرق:</span> <strong id="result-time"></strong></div>
                <div class="result-stat"><span>أعلى مستوى:</span> <strong id="result-level"></strong></div>
            </div>
            <div class="performance-section">
                <h3>تقييم الأداء</h3>
                <div class="performance-bar"><div id="performance-fill" class="performance-fill"></div></div>
                <p id="performance-text"></p>
            </div>
            <div class="social-share">
                <p>شارك نتيجتك مع أصدقائك!</p>
                <a href="https://x.com/_MS_AbuQusay?t=Tv0klH2PdnBYFHj_G8uIEA&s=09" target="_blank" class="btn social-btn"><i class="fa-brands fa-x-twitter"></i> شارك على X</a>
                <a href="https://www.instagram.com/ms_abuqusay?igsh=MXc2ZWptd2FkamN0" target="_blank" class="btn social-btn"><i class="fa-brands fa-instagram"></i> شارك على Instagram</a>
            </div>
            <div class="results-actions">
                <button id="view-leaderboard-btn" class="btn btn-secondary">عرض لوحة الصدارة</button>
                <button id="play-again-btn" class="btn btn-primary">العب مرة أخرى</button>
            </div>
        </div>

        <div id="leaderboard-screen" class="screen">
             <header>
                <h1>🏆 لوحة الصدارة</h1>
            </header>
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th>الترتيب</th>
                        <th>الاسم</th>
                        <th>المستوى</th>
                        <th>النقاط</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body">
                    </tbody>
            </table>
            <div class="text-center">
                <button id="back-to-results-btn" class="btn btn-secondary">العودة للنتائج</button>
            </div>
        </div>
    </div>

    <div id="modal-overlay" class="modal-overlay"></div>
    
    <div id="exit-modal" class="modal">
        <h2>إنهاء المسابقة</h2>
        <p>سيتم حفظ نقاطك الحالية. هل أنت متأكد من رغبتك في المتابعة؟</p>
        <div class="modal-actions">
            <button id="confirm-exit-btn" class="btn btn-danger">نعم، قم بالخروج</button>
            <button class="btn btn-secondary close-modal-btn">لا، ابقَ هنا</button>
        </div>
    </div>

    <div id="level-complete-modal" class="modal">
        <h2>🎉 أحسنت! 🎉</h2>
        <p id="level-complete-text"></p>
        <div class="modal-actions">
            <button id="next-level-btn" class="btn btn-primary">الانتقال للمستوى التالي</button>
            <button id="withdraw-btn" class="btn btn-secondary">الانسحاب وعرض النتائج</button>
        </div>
    </div>

    <div id="notification-container"></div>
    
    <script src="script.js"></script>
</body>
</html>
